<script setup lang="ts">
import { computed, h } from 'vue'
import { RouterLink, useRoute } from 'vue-router'
import { NMenu } from 'naive-ui'
import type { MenuOption } from 'naive-ui'

const route = useRoute()

// å½“å‰æ¿€æ´»çš„èœå•é¡¹
const activeKey = computed(() => route.path)

// èœå•é¡¹é…ç½®
const menuOptions = computed<MenuOption[]>(() => [
  {
    label: () =>
      h(
        RouterLink,
        {
          to: {
            name: 'Home',
          },
        },
        { default: () => 'é¦–é¡µ' }
      ),
    key: '/',
    icon: () => h('span', { style: { fontSize: '18px' } }, 'ğŸ '),
  },
  {
    label: () =>
      h(
        RouterLink,
        {
          to: {
            name: 'Tools',
          },
        },
        { default: () => 'å·¥å…·é…ç½®' }
      ),
    key: '/tools',
    icon: () => h('span', { style: { fontSize: '18px' } }, 'ğŸ› ï¸'),
  },
  {
    label: () =>
      h(
        RouterLink,
        {
          to: {
            name: 'Software',
          },
        },
        { default: () => 'è½¯ä»¶ç®¡ç†' }
      ),
    key: '/software',
    icon: () => h('span', { style: { fontSize: '18px' } }, 'ğŸ“¦'),
  },
  {
    label: () =>
      h(
        RouterLink,
        {
          to: {
            name: 'Settings',
          },
        },
        { default: () => 'è®¾ç½®' }
      ),
    key: '/settings',
    icon: () => h('span', { style: { fontSize: '18px' } }, 'âš™ï¸'),
  },
])
</script>

<template>
  <div class="sidebar">
    <n-menu
      :value="activeKey"
      :options="menuOptions"
      :root-indent="24"
      :indent="16"
    />
  </div>
</template>

<style scoped>
.sidebar {
  height: 100%;
  padding-top: 16px;
}
</style>


